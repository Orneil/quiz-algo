<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz R√©visions Python</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg,#4f46e5,#3b82f6);
        display: flex;
        justify-content: center;
        padding: 50px;
        height: 100vh;
        margin: 0;
        color: #fff;
    }
    .card {
        background: white;
        color: #222;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 25px rgba(0,0,0,0.2);
        max-width: 800px;
        width: 100%;
        position: relative;
        overflow: hidden;
    }
    h1 { text-align: center; color: #4f46e5; }
    input {
        width: 100%;
        padding: 10px;
        margin-top: 15px;
        border-radius: 6px;
        border: 1px solid #bbb;
        font-size: 16px;
    }
    button {
        background: #4f46e5;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 15px;
        font-size: 15px;
        transition: background 0.3s;
    }
    button:hover { background: #3730a3; }
    #result {
        margin-top: 20px;
        font-weight: bold;
        font-size: 17px;
        min-height: 30px;
        text-align: center;
        transition: transform 0.5s ease, opacity 0.5s ease;
    }
    #sentence {
        font-size: 1.2em;
        margin-top: 20px;
        min-height: 50px;
    }
    #timer {
        position: absolute;
        top: 15px;
        right: 20px;
        font-weight: bold;
        font-size: 16px;
        color: #4f46e5;
    }
    #score {
        position: absolute;
        top: 15px;
        left: 20px;
        font-weight: bold;
        font-size: 16px;
        color: #4f46e5;
    }
    .firework {
        position: absolute;
        width: 8px;
        height: 8px;
        background: radial-gradient(circle, #ffd700, #ff0000);
        border-radius: 50%;
        pointer-events: none;
        animation: explode 1s ease-out forwards;
    }
    @keyframes explode {
        0% { transform: scale(1) translate(0,0); opacity: 1; }
        100% { transform: scale(3) translate(var(--x), var(--y)); opacity: 0; }
    }
    .wrong-answers {
        margin-top: 20px;
        color: #e53935;
        font-weight: bold;
    }
    .wrong-answers li {
        margin-bottom: 8px;
    }
</style>
</head>
<body>
<div class="card">
    <div id="score">Score: 0</div>
    <div id="timer">10:00</div>
    <h1>Quiz R√©visions Python</h1>
    <h2>Le Quiz dure 10 minutes et comporte 20 questions.</h2>
    <div id="sentence">Clique sur ‚ÄúCommencer‚Äù pour d√©marrer le quiz.</div>
    <input id="answer" placeholder="Tape le mot manquant" style="display:none;">
    <button id="validate" style="display:none;">Valider</button>
    <button id="start">Commencer</button>
    <div id="result"></div>
    <ul id="wrongAnswers" class="wrong-answers"></ul>
</div>

<script>
const quiz = [
    {sentence: "Nous travaillons dans l'environnement ________.", word: "JUPYTER NOTEBOOK"},
    {sentence: "Le nom d'un type de destination peut √™tre utilis√© comme une fonction de ________.", word: "CONVERSION"},
    {sentence: "La syntaxe ________ est une syntaxe l√©g√®re permettant d'ins√©rer du texte format√©.", word: "MARKDOWN"},
    {sentence: "Pr√©f√©rer les ________ aux tests d'√©galit√© sur les ________.", word: "ENCADREMENTS"},
    {sentence: "Python a deux types num√©riques : ________ et FLOAT.", word: "INT"},
    {sentence: "La taille des entiers en Python est ________ pourvu qu'il y ait assez de m√©moire.", word: "ILLIMIT√âE"},
    {sentence: "L'√©valuation d'une ________ appara√Æt dans la zone de sortie du notebook.", word: "EXPRESSION"},
    {sentence: "Une ________ ne produit pas de valeur, contrairement √† une expression.", word: "INSTRUCTION"},
    {sentence: "Print('Hello world!') est une ________ d'affichage.", word: "FONCTION"},
    {sentence: "L'op√©rateur // effectue une ________.", word: "DIVISION ENTI√àRE"},
    {sentence: "Le mot-cl√© ________ d√©signe l'absence de valeur.", word: "NONE"},
    {sentence: "\"Hello world!\" et 1 + 2 sont des ________.", word: "EXPRESSIONS"},
    {sentence: "Un ________ contient une valeur r√©elle (nombre d√©cimal).", word: "FLOAT"},
    {sentence: "JAVASCRIPT est un autre langage de programmation.", word: "JAVASCRIPT"},
    {sentence: "DC a d√©fini ________ comme un sous-ensemble de JAVASCRIPT.", word: "JSON"},
    {sentence: "En PYTHON les comparaisons peuvent √™tre ________.", word: "CHA√éN√âES"},
    {sentence: "% est l'op√©rateur de ________.", word: "MODULO"},
    {sentence: "En python les couples permettent l'________ de variables sans variables AUXILIAIRES.", word: "ECHANGE"},
    {sentence: "Une ________ de s√©quence est d√©f par un D√âBUT, FIN, PAS.", word: "TRANCHE"},
    {sentence: "En python, les intervalles sont ________.", word: "BORNES"},
    {sentence: "Leur longueur est donn√©e par la diff√©rence des ________.", word: "SEMIOUVERTS"},
    {sentence: "PATHLIB est la ________ de manipulation de chemins recommand√©s.", word: "BIBLIOTH√àQUE"},
    {sentence: "Seq[:] renvoie une ________ de seq.", word: "COPIE"},
    {sentence: "En interne, le ________ est repr√©sent√© par le caract√®re '\\n'.", word: "RETOUR √Ä LA LIGNE"},
    {sentence: "Replace est une ________ des objets de type STR.", word: "M√âTHODE"},
    {sentence: "Pour utiliser une fonction d'une biblioth√®que on doit au pr√©alable ________.", word: "IMPORTER"},
    {sentence: "Une cha√Æne ________ est encadr√©e de simple ou de doubles QUOTES.", word: "LITT√âRALE"},
    {sentence: "La m√©thode JOIN concat√®ne les cha√Ænes d'une liste en intercalant un ________.", word: "S√âPARATEUR"},
    {sentence: "Un ________ est utile pour s√©quencer des valeurs dont la SEMANTIQUE d√©pend de la POSITION.", word: "TUPLE"},
    {sentence: "En python, dictionnaire et ________ sont implant√©s comme des tables de HACHAGE.", word: "ENSEMBLE"},
    {sentence: '{"A":1,"B":2} est de type ________.', word: "DICT"},
    {sentence: "La biblioth√®que de nb al√©atoire en python est ________.", word: "RANDOM"},
    {sentence: "Les expressions en ________ permettent de construire liste, dictionnaires ou ensemble sans INSTRUCTION.", word: "COMPREHENSION"},
    {sentence: "Dans un dictionnaire la cr√©ation la lecture, la ________ et la suppression d'un √©l√©ment se font en temps CONSTANTS.", word: "MISE √Ä JOUR"},
    {sentence: "Un dictionnaire associe des ________ toutes DISTINCTES √† des VALEURS.", word: "CLES"},
    {sentence: "L'INTERPOLATION d'une cha√Æne f √©value les expressions entre ________.", word: "ACCOLADES"},
    {sentence: "Le parcours d'une s√©quence seq est dit ________ en la taille de seq, ce qui se note O(n).", word: "LIN√âAIRE"},
    {sentence: "['A',1,'B',2] est de type ________.", word: "LISTE"},
    {sentence: "Un ensemble est une collection non ________ et sans DOUBLONS.", word: "ORDONN√âE"},
    {sentence: "Une fonction renvoi son r√©sultat gr√¢ce √† une instruction ________.", word: "RETURN"},
    {sentence: "La variable 2nde_per_minute est consid√©r√©e par convention comme une ________.", word: "CONSTANTE"},
    {sentence: "Le bloc d'instruction introduit par if else ou elif s'appelle une ________.", word: "BRANCHE"},
    {sentence: "Boucle se dit '______' en anglais.", word: "LOOP"},
    {sentence: "Les variables d'it√©ration de boucles IMBRIQU√âES (______ ) doivent √™tre distinctes.", word: "NESTED"},
    {sentence: "Pour pouvoir parcourir les chiffres d'un nombre il faut les convertir en ________.", word: "CHA√éNE"},
    {sentence: "M√™me si on connait A L‚ÄôAVANCE le nombre de p√©riodes, le calcul des ________ s‚Äô√©crit mieux avec un WHILE.", word: "INTERETS COMPOSES"},
    {sentence: "Une fonction qui ne retourne aucune valeur est une ________.", word: "PROCEDURE"}
];

let selectedQuestions = [];
let currentIndex = 0;
let correctAnswers = 0;
let wrongAnswers = [];
let timer;
let totalTime = 10 * 60; // 10 minutes
let quizLength = 20;

function shuffleArray(arr) {
    return arr.sort(() => Math.random() - 0.5);
}

function startTimer() {
    timer = setInterval(() => {
        totalTime--;
        let minutes = Math.floor(totalTime / 60);
        let seconds = totalTime % 60;
        document.getElementById("timer").innerText = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
        if (totalTime <= 0) {
            clearInterval(timer);
            endQuiz();
        }
    }, 1000);
}

function askQuestion() {
    if(currentIndex >= selectedQuestions.length){
        endQuiz();
        return;
    }
    document.getElementById("sentence").innerHTML = selectedQuestions[currentIndex].sentence;
    document.getElementById("answer").value = "";
    document.getElementById("answer").style.display = "block";
    document.getElementById("validate").style.display = "inline-block";
    document.getElementById("result").innerHTML = "";
}

function createFireworks() {
    for(let i=0;i<15;i++){
        let fire = document.createElement('div');
        fire.className = 'firework';
        fire.style.left = `${Math.random()*100}%`;
        fire.style.top = `${Math.random()*100}%`;
        fire.style.setProperty('--x', `${(Math.random()-0.5)*200}px`);
        fire.style.setProperty('--y', `${(Math.random()-0.5)*200}px`);
        document.querySelector('.card').appendChild(fire);
        setTimeout(()=>fire.remove(),1000);
    }
}

function endQuiz() {
    document.getElementById("sentence").innerHTML = `üéâ Quiz termin√© ! Votre score : ${correctAnswers}/${quizLength}`;
    document.getElementById("answer").style.display = "none";
    document.getElementById("validate").style.display = "none";
    document.getElementById("result").innerHTML = "";

    // Afficher les mauvaises r√©ponses avec corrections
    if(wrongAnswers.length > 0){
        let list = document.getElementById("wrongAnswers");
        list.innerHTML = "<b>Mauvaises r√©ponses :</b>";
        wrongAnswers.forEach(item=>{
            let li = document.createElement('li');
            li.innerHTML = `"${item.sentence}" ‚Üí Correct: <b>${item.word}</b>`;
            list.appendChild(li);
        });
    }

    // Si score √©lev√©, lancer animation de f√©licitations
    if(correctAnswers >= quizLength * 0.8){
        for(let i=0;i<50;i++){
            setTimeout(createFireworks, i*100);
        }
    }
}

document.getElementById("start").onclick = function() {
    this.style.display = "none";
    selectedQuestions = shuffleArray(quiz).slice(0,quizLength);
    askQuestion();
    startTimer();
};

document.getElementById("validate").onclick = function() {
    let userAnswer = document.getElementById("answer").value.trim().toUpperCase();
    let correctAnswer = selectedQuestions[currentIndex].word.toUpperCase();
    if(userAnswer === correctAnswer){
        document.getElementById("result").innerHTML = "‚úîÔ∏è Bonne r√©ponse !";
        correctAnswers++;
        document.getElementById("score").innerText = `Score: ${correctAnswers}`;
        createFireworks();
    } else {
        document.getElementById("result").innerHTML = `‚ùå Faux ! La bonne r√©ponse √©tait : <b>${selectedQuestions[currentIndex].word}</b>`;
        wrongAnswers.push(selectedQuestions[currentIndex]);
    }
    currentIndex++;
    setTimeout(askQuestion, 1500);
};
</script>

</body>
</html>
